<div class="row" *ngIf="!isLoaded">
  <autotourism-loader></autotourism-loader>
</div>
<div *ngIf="isLoaded">
  <div class="card-panel grey lighten-5 z-depth-1">
    <div class="row valign-wrapper">
      <div class="col l2 s4">
        <i class="material-icons dp48 medium">event</i>
      </div>
      <div class="col l10 s8">
      <span class="black-text">
        Пробег {{!dateHappened(trip.date_from)?'состоится':!dateHappened(trip.date_until, 1)?'проходит':'состоялся'}} c {{trip.date_from | autoMoment: 'YYYY-MM-DD'}} по {{trip.date_until | autoMoment: 'YYYY-MM-DD'}}
      </span>
      </div>
    </div>
  </div>
  <div class="card-panel grey lighten-5 z-depth-1">
    <div class="row valign-wrapper">
      <div class="col l2 s4">
        <i class="material-icons dp48 medium">directions_car</i>
      </div>
      <div class="col l10 s8">
        <span class="black-text"  *ngIf="dateHappened(trip.registration_open_from) && !dateHappened(trip.registration_open_to)">
                  В пробеге зарегистрировалось {{trip.members_number}} экипаж(а)
                </span>
        <span class="black-text"  *ngIf="dateHappened(trip.registration_open_to)  && !dateHappened(trip.date_from)">
                  В пробеге будет учавствовать {{trip.members_number}} экипаж(а)
                </span>
        <span class="black-text"  *ngIf="dateHappened(trip.date_from) && !dateHappened(trip.date_until, 1) ">
                  В пробеге участвуют {{trip.members_number}} экипаж(а)
                </span>
        <span class="black-text"  *ngIf="dateHappened(trip.date_until, 1) ">
                  В пробеге участвовало {{trip.members_number}} экипаж(а)
                </span>
        <span class="black-text"  *ngIf="!dateHappened(trip.registration_open_from)">
                  Регистрация в пробег откроется в {{trip.registration_open_from | autoMoment:'YYYY-MM-DD':'MMM YYYY'}}
                </span>
        <a [routerLink]="['/trips', trip.id, 'members']" *ngIf="dateHappened(trip.registration_open_from)" class="secondary-content">Список</a>
      </div>
    </div>
  </div>
  <div class="card-panel grey lighten-5 z-depth-1" *ngIf="dateHappened(trip.registration_open_from) && !dateHappened(trip.registration_open_to)">
    <div class="row valign-wrapper">
      <div class="col s2">
        <i class="material-icons dp48 medium green-text">album</i>
      </div>
      <div class="col s10">
        <span class="black-text">
          Регистрация открыта
        </span>
        <a href="{{trip.link_to_registration}}" *ngIf="trip.link_to_registration" class="secondary-content">Присоеденится</a>
      </div>
    </div>
  </div>
</div>
